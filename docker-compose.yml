version: "3.9"
services:
  controller:
    build: .
    ports:
      - "8881:80"
    environment:
      PORT: 80
      HOST: 0.0.0.0
  postgres:
    image: "postgres:9.6"
    environment:
      POSTGRES_USER: postgres
      POSTGRES_DB: postgres
      POSTGRES_PASSWORD: 123
  s3:
    image: "minio/minio:latest"
    command:
      - server
      - /data
    ports:
      - "9000:9000"
    environment:
      MINIO_ROOT_USER: root
      MINIO_ROOT_PASSWORD: root_password
  speech_recognizer:
    build: ./../speech-recognizer
    environment:
      PORT: 80
      HOST: 0.0.0.0
    ports:
      - "8882:80"


